image: ghcr.io/firemetrics/spilo17:4.0-p2-f0457965
imagePullSecret: ""
podServiceAccountNameOverride: ""
numberOfInstances: 1
clusterNameOverride: ""
teamId: ""
spiloRunAsUser: 101
spiloRunAsGroup: 103
spiloFSGroup: 103

volume:
  size: 10Gi

resources:
  requests:
    cpu: "10m"
    memory: "100Mi"
  limits:
    cpu: "32"
    memory: "128Gi"

postgresql:
  version: "16"
  parameters:
    shared_buffers: 2GB
    max_locks_per_transaction: "512"
    work_mem: "256MB"

backup:
  # -- Enable WAL archiving for the Postgres cluster.
  enabled: false
  # -- The name of the S3 bucket used for WAL archiving.
  bucketName: "backup"
  # -- The S3 bucket region used for WAL archiving.
  region: "auto"
  # -- The S3 bucket endpoint used for WAL archiving.
  endpoint: "http://minio"
  userSecret:
    # -- The secret containing the S3 user credentials for WAL archiving.
    name: backup-bucket-user
    # -- The key in the secret containing the S3 access key.
    accessKeyKey: accessKey
    # -- The key in the secret containing the S3 secret key.
    secretKeyKey: secretKey

env: []
